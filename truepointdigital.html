<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TruePoint Digital</title>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-1:#0b0f2f; --bg-2:#0e163d; --bg-3:#101a49;
      --text:#ffffff; --muted:#b8c0ff; --subtle:#9aa3c7;
      --accent:#00bfff; --accent-2:#00ffff;
      --card:rgba(255,255,255,0.06); --card-hover:rgba(255,255,255,0.09);
      --line:rgba(255,255,255,0.10);
      --footer-1:#0a1238; --footer-2:#0b1642;
      --header-h:64px; --nav-h:56px;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:'Space Grotesk',sans-serif; color:var(--text);
      background:linear-gradient(180deg,var(--bg-1),var(--bg-2),var(--bg-3)) fixed;
      line-height:1.55; scroll-behavior:smooth; overflow-x:hidden;
    }

    /* Show sections even if JS fails */
    html:not(.js) section{opacity:1 !important; transform:none !important;}

    /* background texture */
    .texture{
      position:fixed; inset:0; z-index:-3; pointer-events:none;
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(0,191,255,0.10), transparent 60%),
        radial-gradient(1000px 500px at 90% -20%, rgba(0,255,255,0.08), transparent 60%),
        repeating-linear-gradient(0deg, transparent 0 22px, rgba(255,255,255,0.02) 22px 23px);
      mix-blend-mode:screen; animation:float 16s ease-in-out infinite alternate;
    }
    @keyframes float{from{transform:translateY(0)} to{transform:translateY(10px)}}

    /* cursor follower */
    .cursor-blob{
      position:fixed; left:0; top:0; width:180px; height:180px; border-radius:50%;
      pointer-events:none; z-index:-1; transform:translate(-50%,-50%);
      filter:blur(26px);
      background:radial-gradient(circle at 50% 50%, rgba(0,255,255,0.20), rgba(0,191,255,0.10) 40%, rgba(0,0,0,0) 70%);
      opacity:.6; mix-blend-mode:screen; transition:opacity .25s ease, filter .25s ease;
    }
    .cursor-blob.is-hot{opacity:.9; filter:blur(20px)}
    .click-spark{position:fixed; width:8px; height:8px; border-radius:50%; pointer-events:none; z-index:300;
      background:radial-gradient(circle, rgba(0,255,255,1), rgba(0,191,255,0.2));}

    /* header */
    header{
      position:fixed; top:0; left:0; width:100%; height:var(--header-h);
      display:flex; align-items:center; justify-content:space-between; padding:0 8%;
      z-index:100; border-bottom:1px solid var(--line); background:transparent;
    }
    .logo{font-weight:700; letter-spacing:.2px; animation:logoGlow 3s ease-in-out infinite;}
    @keyframes logoGlow{
      0%{text-shadow:0 0 0 rgba(0,191,255,0)}
      35%{text-shadow:0 0 14px rgba(0,191,255,0.7),0 0 28px rgba(0,255,255,0.35)}
      65%{text-shadow:0 0 6px rgba(0,191,255,0.35),0 0 14px rgba(0,255,255,0.18)}
      100%{text-shadow:0 0 0 rgba(0,191,255,0)}
    }
    .book-call-btn{
      background:var(--accent); color:#081018; padding:12px 26px; border-radius:32px;
      font-weight:600; border:none; cursor:pointer; box-shadow:0 0 12px var(--accent);
      animation:glow 2s ease-in-out infinite alternate; transition:transform .25s ease;
    }
    .book-call-btn:hover{transform:translateY(-1px) scale(1.02)}
    @keyframes glow{from{box-shadow:0 0 10px var(--accent)} to{box-shadow:0 0 22px var(--accent-2)}}
    .magnetic{display:inline-block; transform:translate3d(0,0,0); transition:transform .15s ease}

    /* nav */
    nav.site-nav{
      margin-top:var(--header-h); height:var(--nav-h); border-bottom:1px solid var(--line);
      display:flex; align-items:center; justify-content:center; padding:0 8%;
    }
    .nav-links{display:inline-flex; gap:34px; flex-wrap:wrap; justify-content:center}
    .nav-links a{color:#fff; text-decoration:none; font-weight:500; position:relative; opacity:.95; transition:color .25s ease}
    .nav-links a::after{content:''; position:absolute; left:0; bottom:-6px; height:2px; width:0; background:var(--accent); transition:width .25s ease}
    .nav-links a:hover{color:var(--accent)} .nav-links a:hover::after{width:100%}
    .nav-links a.active{color:var(--accent)} .nav-links a.active::after{width:100%}

    /* sections */
    section{padding:56px 8%; opacity:0; transform:translateY(26px); transition:opacity .7s ease, transform .7s ease}
    section.visible{opacity:1; transform:translateY(0)}

    .kicker{font-size:.9rem; letter-spacing:.18em; text-transform:uppercase; color:var(--subtle); margin-bottom:10px}
    h1{font-size:clamp(2.2rem,4.8vw,3.6rem); line-height:1.15; margin:10px 0 14px}
    h2{font-size:clamp(1.6rem,3.2vw,2.2rem); margin-bottom:8px}
    .sub{max-width:820px; color:#d2d7ff; margin:8px auto 22px}
    .lead{color:var(--muted)}
    .glow-subtle{animation:subtleGlow 7s ease-in-out infinite}
    @keyframes subtleGlow{
      0%{text-shadow:0 0 0 rgba(0,191,255,0)}
      40%{text-shadow:0 0 6px rgba(0,191,255,0.22),0 0 12px rgba(0,255,255,0.10)}
      60%{text-shadow:0 0 3px rgba(0,191,255,0.14),0 0 7px rgba(0,255,255,0.06)}
      100%{text-shadow:0 0 0 rgba(0,191,255,0)}
    }

    .section-head{max-width:980px; margin:0 auto 12px; text-align:center}
    .cta-row{display:flex; gap:14px; justify-content:center; flex-wrap:wrap; margin-top:6px}
    .btn{background:var(--accent); color:#081018; border:none; cursor:pointer; padding:12px 22px; border-radius:30px; font-weight:600; transition:transform .2s ease, filter .2s ease}
    .btn:hover{transform:translateY(-1px); filter:brightness(1.05)}
    .btn.ghost{background:transparent; color:#eaf2ff; border:1px solid var(--line)} .btn.ghost:hover{border-color:var(--accent); color:#fff}

    /* hero */
    #hero{min-height:calc(100vh - var(--header-h) - var(--nav-h)); display:flex; align-items:center; justify-content:center}
    .hero-wrap{max-width:1100px; margin:0 auto; text-align:center}

    /* grids/cards */
    .grid{display:grid; gap:18px; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); margin-top:18px}
    .card{
      background:var(--card); border:1px solid var(--line); border-radius:16px; padding:22px;
      transition:transform .25s ease, background .25s ease, border-color .25s ease, box-shadow .25s ease;
      transform-style:preserve-3d; will-change:transform;
    }
    .card:hover{transform:translateY(-4px); background:var(--card-hover); border-color:rgba(255,255,255,0.16); box-shadow:0 20px 60px rgba(0,0,0,0.25)}
    .card h3{margin-bottom:8px; color:var(--accent)}

    .timeline{display:grid; gap:14px; max-width:980px; margin:14px auto 0}
    .step{display:grid; grid-template-columns:40px 1fr; gap:12px; align-items:start; background:var(--card); border:1px solid var(--line); padding:16px; border-radius:14px}
    .step .num{width:40px; height:40px; border-radius:999px; display:grid; place-items:center; background:linear-gradient(180deg, var(--accent), var(--accent-2)); color:#00111a; font-weight:700; text-shadow:0 1px 0 rgba(255,255,255,0.3)}

    /* clients */
    .tag-grid{display:grid; gap:14px; grid-template-columns:repeat(3, minmax(220px,1fr)); max-width:960px; margin:12px auto 0}
    .tag{display:flex; align-items:center; justify-content:center; text-align:center; padding:18px 16px; min-height:88px; border-radius:14px; border:1px solid var(--line); background:rgba(255,255,255,0.03); color:#e7eeff; transition:transform .2s ease, background .2s ease, border-color .2s ease}
    .tag:hover{transform:translateY(-3px); background:rgba(255,255,255,0.06); border-color:rgba(255,255,255,0.16)}

    /* footer */
    footer.site-footer{position:relative; background:linear-gradient(180deg,var(--footer-1),var(--footer-2)); margin-top:32px; border-top:1px solid var(--line); padding:40px 8% 70px; overflow:hidden}
    .footer-shimmer{position:absolute; top:0; left:-40%; width:80%; height:2px; background:linear-gradient(90deg, transparent, rgba(0,255,255,0.6), transparent); animation:shimmer 6s linear infinite}
    @keyframes shimmer{0%{transform:translateX(0)}100%{transform:translateX(200%)}}
    .footer-wrap{max-width:1100px; margin:0 auto; display:grid; gap:24px}
    .footer-top{display:grid; grid-template-columns:1.2fr .8fr; gap:24px}
    .footer-links h5{margin-bottom:10px; color:#cfe6ff}
    .footer-links ul{list-style:none; display:grid; gap:8px}
    .footer-links a{color:#dbe7ff; text-decoration:none; position:relative}
    .footer-links a::after{content:''; position:absolute; left:0; bottom:-4px; height:1px; width:0; background:var(--accent); transition:width .25s ease}
    .footer-links a:hover::after{width:100%}
    .footer-bottom{border-top:1px solid var(--line); padding-top:14px; color:#9fb1d9; display:flex; justify-content:space-between; flex-wrap:wrap; gap:10px; align-items:center}

    /* back to top */
    .to-top{position:fixed; right:18px; bottom:18px; z-index:350; opacity:0; pointer-events:none; transform:translateY(8px); transition:opacity .25s ease, transform .25s ease}
    .to-top.show{opacity:1; pointer-events:auto; transform:translateY(0)}
    .to-top button{border:none; border-radius:28px; padding:12px 16px; cursor:pointer; background:var(--accent); color:#081018; font-weight:700; box-shadow:0 0 12px rgba(0,191,255,0.65); animation:floatTop 3.6s ease-in-out infinite alternate}
    @keyframes floatTop{from{transform:translateY(0)} to{transform:translateY(-3px)}}

    /* modal & form */
    .modal{display:none; position:fixed; inset:0; z-index:300; background:rgba(0,0,0,0.8); justify-content:center; align-items:center}
    .modal-content{background:#0e1436; border:1px solid var(--line); padding:26px; border-radius:18px; width:92%; max-width:720px; position:relative; animation:fadeIn .35s ease}
    .modal-content h3{margin-bottom:12px}
    @keyframes fadeIn{from{opacity:0; transform:scale(.98)} to{opacity:1; transform:scale(1)}}
    form .grid{grid-template-columns:repeat(2, minmax(0,1fr)); gap:14px}
    .input, .select, .textarea{
      width:100%; background:#0a1130; color:#fff; border:1px solid var(--line);
      border-radius:10px; padding:12px; font-family:'Space Grotesk',sans-serif; transition:border-color .2s ease, box-shadow .2s ease;
    }
    .input:focus, .select:focus, .textarea:focus{outline:none; border-color:rgba(0,191,255,0.6); box-shadow:0 0 0 3px rgba(0,191,255,0.15)}
    .label{font-size:.95rem; color:#cfe6ff; margin-bottom:6px; display:block}
    .row{display:flex; flex-direction:column}
    .textarea{min-height:120px; resize:vertical}
    .checkbox-row{display:flex; align-items:center; gap:10px}
    .help{font-size:.85rem; color:#9fb1d9; margin-top:4px}
    .toast{position:fixed; left:50%; bottom:24px; transform:translateX(-50%); background:#0c183f; border:1px solid var(--line);
      color:#e9f2ff; padding:12px 16px; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,0.35); opacity:0; pointer-events:none; transition:opacity .2s ease}
    .toast.show{opacity:1}

    /* reduced motion */
    @media (prefers-reduced-motion: reduce){
      .logo,.glow-subtle,.book-call-btn,.texture,.footer-shimmer,.to-top button{animation:none}
      .cursor-blob{display:none}
    }

    /* responsive */
    @media (max-width:980px){.footer-top{grid-template-columns:1fr}}
    @media (max-width:720px){
      .nav-links{gap:18px} header{padding:0 6%} nav.site-nav{padding:0 6%} section{padding:48px 6%}
      .tag-grid{grid-template-columns:1fr; max-width:520px} .tag{min-height:70px}
      form .grid{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <div class="texture" aria-hidden="true"></div>
  <div class="cursor-blob" id="cursorBlob" aria-hidden="true"></div>

  <!-- Header -->
  <header>
    <div class="logo">TruePoint Digital</div>
    <span class="magnetic"><button class="book-call-btn" data-open-modal>Book a Call</button></span>
  </header>

  <!-- Nav -->
  <nav class="site-nav" aria-label="Primary">
    <div class="nav-links">
      <a href="#how" data-link>How it works</a>
      <a href="#services" data-link>Our Services</a>
      <a href="#why" data-link>Why choose us</a>
      <a href="#clients" data-link>Who we work with</a>
      <a href="#contact" data-open-modal>Contact us</a>
    </div>
  </nav>

  <!-- HERO -->
  <section id="hero">
    <div class="hero-wrap">
      <p class="kicker glow-subtle">Automation that moves the needle</p>
      <h1>We help businesses automate their business while they focus on the stuff that matters.</h1>
      <p class="sub">Reduce repetitive work, respond faster, and scale with AI systems that fit your process. From chatbots and appointment setters to custom CRMs and apps.</p>

      <!-- No magnetic wrappers here so alignment never drifts -->
      <div class="cta-row" style="margin-top:14px">
        <button class="btn" data-open-modal>Contact Us</button>
        <a class="btn ghost" href="#services">Explore Services</a>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section id="how">
    <div class="section-head">
      <p class="kicker glow-subtle">How it works</p>
      <h2 class="glow-subtle">From idea to impact without the faff</h2>
      <p class="sub">A lean four step path that keeps momentum high and the outcome clear. You always see progress and you always know what is next.</p>
    </div>

    <div class="timeline">
      <div class="step"><div class="num">1</div><div><h3>Discover</h3><p class="lead">We map your workflows, identify bottlenecks, and define success metrics.</p></div></div>
      <div class="step"><div class="num">2</div><div><h3>Design</h3><p class="lead">A simple blueprint covering data flow, integrations, guardrails, and ownership.</p></div></div>
      <div class="step"><div class="num">3</div><div><h3>Build</h3><p class="lead">Implement AI chat, appointment setting, apps, or CRMs in short, testable sprints.</p></div></div>
      <div class="step"><div class="num">4</div><div><h3>Optimise</h3><p class="lead">We track performance and iterate so the system improves every week.</p></div></div>
    </div>

    <div class="cta-row" style="margin-top:18px">
      <span class="magnetic"><button class="btn" data-open-modal>Contact Us</button></span>
    </div>
  </section>

  <!-- SERVICES -->
  <section id="services">
    <div class="section-head">
      <p class="kicker glow-subtle">Our Services</p>
      <h2 class="glow-subtle">Build once. Scale smoothly.</h2>
      <p class="sub">Pick what you need right now. Add the rest when you are ready.</p>
    </div>

    <div class="grid">
      <div class="card tilt"><h3>AI Chatbots</h3><p class="lead">Handle FAQs, qualify leads, collect data, and route to humans when needed.</p></div>
      <div class="card tilt"><h3>AI Appointment Setters</h3><p class="lead">Automated booking, reminders, and follow ups across your channels.</p></div>
      <div class="card tilt"><h3>AI App Development</h3><p class="lead">Custom tools for your team and customers with your workflows baked in.</p></div>
      <div class="card tilt"><h3>Custom CRM Creation</h3><p class="lead">Centralise data, automate touchpoints, and get a clear view of pipeline.</p></div>
    </div>

    <div class="cta-row" style="margin-top:18px">
      <span class="magnetic"><button class="btn" data-open-modal>Contact Us</button></span>
    </div>
  </section>

  <!-- WHY CHOOSE US -->
  <section id="why">
    <div class="section-head">
      <p class="kicker glow-subtle">Why choose us</p>
      <h2 class="glow-subtle">Practical, measurable, and built to last</h2>
      <p class="sub">No gimmicks. Clear targets, clean handover, and support that keeps things moving.</p>
    </div>

    <div class="grid">
      <div class="card tilt"><h3>Outcome focus</h3><p class="lead">We define success in numbers you actually care about and build backwards from there.</p></div>
      <div class="card tilt"><h3>Lightweight stack</h3><p class="lead">Prefer simple over complex so your team can run it without headaches.</p></div>
      <div class="card tilt"><h3>Secure by default</h3><p class="lead">Permissions, logging, and privacy baked in from day one.</p></div>
      <div class="card tilt"><h3>Fast iteration</h3><p class="lead">Short cycles, frequent feedback, no surprises.</p></div>
    </div>

    <div class="cta-row" style="margin-top:18px">
      <span class="magnetic"><button class="btn" data-open-modal>Contact Us</button></span>
    </div>
  </section>

  <!-- WHO WE WORK WITH -->
  <section id="clients">
    <div class="section-head">
      <p class="kicker glow-subtle">Who we work with</p>
      <h2 class="glow-subtle">Teams that value speed and clarity</h2>
      <p class="sub">We ship with operators who want momentum and measurable improvement.</p>
    </div>

    <div class="tag-grid">
      <div class="tag tilt">Recruitment Agencies</div>
      <div class="tag tilt">Insurance Brokerages</div>
      <div class="tag tilt">Energy Companies</div>
      <div class="tag tilt">SaaS Companies</div>
      <div class="tag tilt">E-commerce</div>
      <div class="tag tilt">Startups</div>
    </div>

    <div class="cta-row" style="margin-top:18px">
      <span class="magnetic"><button class="btn" data-open-modal>Contact Us</button></span>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="site-footer" id="footer">
    <div class="footer-shimmer" aria-hidden="true"></div>
    <div class="footer-wrap">
      <div class="footer-top">
        <div class="footer-brand">
          <h4>TruePoint Digital</h4>
          <p class="lead">Automation that saves time and compounds results. Built with clarity and care.</p>
        </div>
        <div class="footer-links">
          <h5>Quick links</h5>
          <ul>
            <li><a href="#how">How it works</a></li>
            <li><a href="#services">Our Services</a></li>
            <li><a href="#why">Why choose us</a></li>
            <li><a href="#clients">Who we work with</a></li>
            <li><a href="#" data-open-modal>Contact us</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <small>© 2025 TruePoint Digital. All rights reserved.</small>
        <small>Made for speed and simplicity.</small>
      </div>
    </div>
  </footer>

  <!-- Back to top -->
  <div class="to-top" id="toTop"><button aria-label="Back to top">↑ Top</button></div>

  <!-- CONTACT MODAL -->
  <div class="modal" id="contact-modal" role="dialog" aria-modal="true" aria-labelledby="contact-title">
    <div class="modal-content">
      <span class="close-btn" aria-label="Close">&times;</span>
      <h3 id="contact-title">Contact Us</h3>

      <form id="contactForm">
        <div class="grid">
          <div class="row">
            <label class="label" for="name">Your Name</label>
            <input class="input" id="name" name="name" type="text" placeholder="Jane Smith" autocomplete="name" required />
          </div>
          <div class="row">
            <label class="label" for="company">Company</label>
            <input class="input" id="company" name="company" type="text" placeholder="Acme Ltd (optional)" />
          </div>
          <div class="row">
            <label class="label" for="email">Email</label>
            <input class="input" id="email" name="email" type="email" placeholder="you@company.com" autocomplete="email" required />
          </div>
          <div class="row">
            <label class="label" for="phone">Phone</label>
            <input class="input" id="phone" name="phone" type="tel" placeholder="+44 7xxx xxx xxx" inputmode="tel" />
            <small class="help">Use international format if outside the UK.</small>
          </div>
          <div class="row">
            <label class="label" for="reason">What do you need help with?</label>
            <select class="select" id="reason" name="reason" required>
              <option value="" disabled selected>Select an option</option>
              <option>AI Chatbots</option>
              <option>AI Appointment Setters</option>
              <option>AI App Development</option>
              <option>Custom CRM Creation</option>
              <option>General Question</option>
            </select>
          </div>
          <div class="row">
            <label class="label" for="contactpref">Preferred contact method</label>
            <select class="select" id="contactpref" name="preferred_contact" required>
              <option value="" disabled selected>Select a method</option>
              <option>Email</option>
              <option>Phone</option>
              <option>Either is fine</option>
            </select>
          </div>
          <div class="row">
            <label class="label" for="budget">Rough budget</label>
            <select class="select" id="budget" name="budget">
              <option value="" selected>Not sure yet</option>
              <option>£0–£2k</option>
              <option>£2k–£5k</option>
              <option>£5k–£15k</option>
              <option>£15k+</option>
            </select>
          </div>
          <div class="row">
            <label class="label" for="timeline">Timeline</label>
            <select class="select" id="timeline" name="timeline">
              <option value="" selected>Flexible</option>
              <option>ASAP (this month)</option>
              <option>1–2 months</option>
              <option>3+ months</option>
            </select>
          </div>
          <div class="row" style="grid-column:1 / -1">
            <label class="label" for="message">Tell us a bit more</label>
            <textarea class="textarea" id="message" name="message" placeholder="What problem are we solving? Links, tools, context welcome." required></textarea>
          </div>
          <div class="row checkbox-row" style="grid-column:1 / -1">
            <input id="consent" name="consent" type="checkbox" required />
            <label for="consent">I’m happy for TruePoint Digital to contact me about this enquiry.</label>
          </div>
          <!-- honeypot & meta -->
          <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />
          <input type="hidden" name="_subject" value="New enquiry — TruePoint Digital" />
          <input type="hidden" name="source_page" id="source_page" />
        </div>

        <div class="cta-row" style="margin-top:8px">
          <button class="btn" id="submitBtn" type="submit">Send Message</button>
          <button class="btn ghost" type="button" id="cancelBtn">Cancel</button>
        </div>

        <p id="formNote" class="help" style="text-align:center;margin-top:8px">We usually reply within one business day.</p>
      </form>
    </div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    // mark JS as running (for no-JS fallback CSS)
    document.documentElement.classList.add('js');

    // Reveal on scroll
    const sections = document.querySelectorAll("section");
    const io = new IntersectionObserver((entries)=>{ entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add("visible"); }); },{threshold:0.12});
    sections.forEach(s=>io.observe(s));

    // Modal
    const modal = document.getElementById("contact-modal");
    const openers = document.querySelectorAll("[data-open-modal]");
    const closer = modal.querySelector(".close-btn");
    const openModal = ()=> modal.style.display="flex";
    const closeModal = ()=> modal.style.display="none";
    openers.forEach(el=>el.addEventListener("click", openModal));
    closer.addEventListener("click", closeModal);
    window.addEventListener("click", e=>{ if(e.target===modal) closeModal(); });

    // Active nav highlight
    const links = document.querySelectorAll(".nav-links a[data-link]");
    const map = {}; links.forEach(a=>{ const id=a.getAttribute("href"); const sec=document.querySelector(id); if(sec){ map[id]=a; } a.addEventListener("click", ()=> setActive(id)); });
    const setActive = (id)=>{ links.forEach(l=>l.classList.remove("active")); if(map[id]) map[id].classList.add("active"); };
    const spy = new IntersectionObserver((entries)=>{ entries.forEach(e=>{ if(e.isIntersecting){ setActive("#"+e.target.id); } }); },{threshold:0.5});
    ["how","services","why","clients"].forEach(id=>{ const el=document.getElementById(id); if(el) spy.observe(el); });

    // Back to top
    const toTop = document.getElementById('toTop');
    const showTop = () => { window.scrollY > 400 ? toTop.classList.add('show') : toTop.classList.remove('show'); };
    window.addEventListener('scroll', showTop); showTop();
    toTop.addEventListener('click', () => window.scrollTo({top:0, behavior:'smooth'}));

    // Cursor blob + sparkles + magnetic + tilts
    const blob = document.getElementById('cursorBlob');
    let bx = innerWidth/2, by = innerHeight/2, tx = bx, ty = by;
    const lerp = (a,b,t)=> a + (b-a)*t;
    addEventListener('mousemove', e=>{ tx = e.clientX; ty = e.clientY; });
    (function anim(){ bx = lerp(bx, tx, 0.12); by = lerp(by, ty, 0.12); blob.style.transform = `translate(${bx - 90}px, ${by - 90}px)`; requestAnimationFrame(anim); })();
    const hotSelectors = 'a, button, .btn, .card, .tag, .book-call-btn';
    document.addEventListener('mouseover', e=>{ if(e.target.closest(hotSelectors)) blob.classList.add('is-hot'); });
    document.addEventListener('mouseout', e=>{ if(e.target.closest(hotSelectors)) blob.classList.remove('is-hot'); });
    document.addEventListener('click', e=>{
      for(let i=0;i<4;i++){
        const s=document.createElement('div'); s.className='click-spark'; document.body.appendChild(s);
        const angle=Math.random()*Math.PI*2, speed=2+Math.random()*4, dx=Math.cos(angle)*speed, dy=Math.sin(angle)*speed; let x=e.clientX, y=e.clientY, life=0;
        (function step(){ life++; x+=dx; y+=dy-0.4; s.style.transform=`translate(${x}px, ${y}px)`; s.style.opacity=String(1-life/30); if(life<30) requestAnimationFrame(step); else s.remove(); })();
      }
    });
    document.querySelectorAll('.magnetic').forEach(m=>{
      const inner=m.querySelector('a,button'); if(!inner) return;
      m.addEventListener('mousemove', e=>{ const r=m.getBoundingClientRect(); const mx=e.clientX-(r.left+r.width/2); const my=e.clientY-(r.top+r.height/2); m.style.transform=`translate(${mx*0.1}px, ${my*0.1}px)`; });
      m.addEventListener('mouseleave', ()=>{ m.style.transform='translate(0,0)'; });
    });
    document.querySelectorAll('.tilt').forEach(el=>{
      el.addEventListener('mousemove', e=>{ const r=el.getBoundingClientRect();
        const rx=((e.clientY-r.top)/r.height-.5)*8; const ry=((e.clientX-r.left)/r.width-.5)*-8;
        el.style.transform=`rotateX(${rx}deg) rotateY(${ry}deg) translateY(-4px)`;
      });
      el.addEventListener('mouseleave', ()=>{ el.style.transform=''; });
    });

    // Parallax texture (subtle)
    const tex = document.querySelector('.texture');
    addEventListener('mousemove', e=>{ const x=(e.clientX/innerWidth - .5)*6; const y=(e.clientY/innerHeight - .5)*6; tex.style.transform=`translate(${x}px, ${y}px)`; }, {passive:true});

    // Formspree AJAX
    const FORM_ENDPOINT = "https://formspree.io/f/mldoeqyo";
    const form = document.getElementById('contactForm');
    const submitBtn = document.getElementById('submitBtn');
    const cancelBtn = document.getElementById('cancelBtn');
    const toast = document.getElementById('toast');
    document.getElementById('source_page').value = location.href;

    const notify = (msg, ok=true)=>{
      toast.textContent = msg;
      toast.style.borderColor = ok ? 'rgba(34,197,94,.4)' : 'rgba(239,68,68,.4)';
      toast.classList.add('show');
      setTimeout(()=> toast.classList.remove('show'), 3500);
    };

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      if(!form.reportValidity()) return;
      submitBtn.disabled = true; submitBtn.textContent = 'Sending…';
      try{
        const res = await fetch(FORM_ENDPOINT, { method:'POST', body:new FormData(form), headers:{'Accept':'application/json'} });
        if(res.ok){ notify('Thanks — your message is in. We’ll reply shortly.', true); form.reset(); setTimeout(closeModal, 600); }
        else{
          const json = await res.json().catch(()=>({})); const err = json.errors ? json.errors.map(e=>e.message).join(', ') : 'Please try again.'; notify('Hmm, that didn’t send. ' + err, false);
        }
      }catch{ notify('Network issue — please try again.', false); }
      finally{ submitBtn.disabled = false; submitBtn.textContent = 'Send Message'; }
    });
    cancelBtn.addEventListener('click', closeModal);
  </script>
</body>
</html>
